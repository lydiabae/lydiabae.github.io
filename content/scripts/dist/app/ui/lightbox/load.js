define(["jquery"],function(e){var t,n,r,i,s;return{init:function(){s=this;var t=e(".js-lightbox-load");t.length&&(t.find(".js-lightbox-image").on("click",s._loadAssets),t.find(".figure-caption").on("click",s._triggerMainImage))},_loadAssets:function(o){o.preventDefault();var u=e(this);require(["app/ui/lightbox/common","app/ui/lightbox/single","app/ui/lightbox/video","app/ui/lightbox/gallery"],function(e,o,a,f){t=e,n=o,r=a,i=f,s._loadCompleted.call(u[0])})},_triggerMainImage:function(t){t.preventDefault(),e(this).prevAll(".js-lightbox-image").trigger("click")},_initAllLightboxes:function(){e(".js-lightbox-single").length&&n.init(),e(".js-lightbox-video").length&&r.init(),e(".js-lightbox-gallery").length&&i.init()},_loadCompleted:function(){var o=e(this),u=o.closest("div"),a=n;s._removeLoadEvents(),t.init(),s._initAllLightboxes(),u.is(".js-lightbox-video")?a=r:u.is(".js-lightbox-gallery")&&(a=i),a.open.call(o[0])},_removeLoadEvents:function(){e(".js-lightbox-load").removeClass("js-lightbox-load").find(".js-lightbox-image").off("click",s._loadAssets)}}});