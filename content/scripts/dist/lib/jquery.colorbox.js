(function(e,t,n){function Y(n,r,i){var o=t.createElement(n);return r&&(o.id=s+r),i&&(o.style.cssText=i),e(o)}function Z(e){var t=T.length,n=(U+e)%t;return n<0?t+n:n}function et(e,t){return Math.round((/%/.test(e)?(t==="x"?N.width():N.height())/100:1)*parseInt(e,10))}function tt(e){return B.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(e)}function nt(){var t,n=e.data(R,i);n==null?(B=e.extend({},r),console&&console.log&&console.log("Error: cboxElement missing settings object")):B=e.extend({},n);for(t in B)e.isFunction(B[t])&&t.slice(0,2)!=="on"&&(B[t]=B[t].call(R));B.rel=B.rel||R.rel||e(R).data("rel")||"nofollow",B.href=B.href||e(R).attr("href"),B.title=B.title||R.title,typeof B.href=="string"&&(B.href=e.trim(B.href))}function rt(n,r){e(t).trigger(n),e("*",g).trigger(n),r&&r.call(R)}function it(){var e,t=s+"Slideshow_",n="click."+s,r,i;B.slideshow&&T[1]?(r=function(){M.html(B.slideshowStop).unbind(n).bind(f,function(){if(B.loop||T[U+1])e=setTimeout(J.next,B.slideshowSpeed)}).bind(a,function(){clearTimeout(e)}).one(n+" "+l,i),g.removeClass(t+"off").addClass(t+"on"),e=setTimeout(J.next,B.slideshowSpeed)},i=function(){clearTimeout(e),M.html(B.slideshowStart).unbind([f,a,l,n].join(" ")).one(n,function(){J.next(),r()}),g.removeClass(t+"on").addClass(t+"off")},B.slideshowAuto?r():i()):g.removeClass(t+"off "+t+"on")}function st(n){V||(R=n,nt(),T=e(R),U=0,B.rel!=="nofollow"&&(T=e("."+o).filter(function(){var t=e.data(this,i),n;return t&&(n=e(this).data("rel")||t.rel||this.rel),n===B.rel}),U=T.index(R),U===-1&&(T=T.add(R),U=T.length-1)),W||(W=X=!0,g.css({visibility:"hidden",display:"block"}),C=Y(K,"LoadedContent","width:0; height:0; overflow:hidden").appendTo(b),j=w.height()+x.height()+b.outerHeight(!0)-b.height(),F=E.width()+S.width()+b.outerWidth(!0)-b.width(),I=C.outerHeight(!0),q=C.outerWidth(!0),B.returnFocus&&(e(R).blur(),e(t).one(c,function(){e(R).focus()})),m.css({opacity:parseFloat(B.opacity),cursor:B.overlayClose?"pointer":"auto",visibility:"visible"}).show(),B.w=et(B.initialWidth,"x"),B.h=et(B.initialHeight,"y"),J.position(),d&&N.bind("resize."+v+" scroll."+v,function(){m.css({width:N.width(),height:N.height(),top:N.scrollTop(),left:N.scrollLeft()})}).trigger("resize."+v),rt(u,B.onOpen),H.add(A).hide(),P.html(B.close).show()),J.load(!0))}function ot(){!g&&t.body&&(G=!1,N=e(n),g=Y(K).attr({id:i,"class":p?s+(d?"IE6":"IE"):""}).hide(),m=Y(K,"Overlay",d?"position:absolute":"").hide(),L=Y(K,"LoadingOverlay").add(Y(K,"LoadingGraphic")),y=Y(K,"Wrapper"),b=Y(K,"Content").append(A=Y(K,"Title"),O=Y(K,"Current"),_=Y(K,"Next"),D=Y(K,"Previous"),M=Y(K,"Slideshow").bind(u,it),P=Y(K,"Close")),y.append(Y(K).append(Y(K,"TopLeft"),w=Y(K,"TopCenter"),Y(K,"TopRight")),Y(K,!1,"clear:left").append(E=Y(K,"MiddleLeft"),b,S=Y(K,"MiddleRight")),Y(K,!1,"clear:left").append(Y(K,"BottomLeft"),x=Y(K,"BottomCenter"),Y(K,"BottomRight"))).find("div div").css({"float":"left"}),k=Y(K,!1,"position:absolute; width:9999px; visibility:hidden; display:none"),H=_.add(D).add(O).add(M),e(t.body).append(m,g.append(y,k)))}function ut(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||(e.preventDefault(),st(this))}return g?(G||(G=!0,_.click(function(){J.next()}),D.click(function(){J.prev()}),P.click(function(){J.close()}),m.click(function(){B.overlayClose&&J.close()}),e(t).bind("keydown."+s,function(e){var t=e.keyCode;W&&B.escKey&&t===27&&(e.preventDefault(),J.close()),W&&B.arrowKey&&T[1]&&(t===37?(e.preventDefault(),D.click()):t===39&&(e.preventDefault(),_.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+s,"."+o,n):e("."+o).live("click."+s,n)),!0):!1}var r={transition:"elastic",speed:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,inline:!1,html:!1,iframe:!1,fastIframe:!0,photo:!1,href:!1,title:!1,rel:!1,opacity:.9,preloading:!0,className:!1,current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",open:!1,returnFocus:!0,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined},i="colorbox",s="cbox",o=s+"Element",u=s+"_open",a=s+"_load",f=s+"_complete",l=s+"_cleanup",c=s+"_closed",h=s+"_purge",p=!e.support.leadingWhitespace,d=p&&!n.XMLHttpRequest,v=s+"_IE6",m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K="div",Q,G;if(e.colorbox)return;e(ot),J=e.fn[i]=e[i]=function(t,n){var s=this;t=t||{},ot();if(ut()){if(e.isFunction(s))s=e("<a/>"),t.open=!0;else if(!s[0])return s;n&&(t.onComplete=n),s.each(function(){e.data(this,i,e.extend({},e.data(this,i)||r,t))}).addClass(o),(e.isFunction(t.open)&&t.open.call(s)||t.open)&&st(s[0])}return s},J.position=function(e,t){function f(e){w[0].style.width=x[0].style.width=b[0].style.width=parseInt(e.style.width,10)-F+"px",b[0].style.height=E[0].style.height=S[0].style.height=parseInt(e.style.height,10)-j+"px"}var n,r=0,i=0,o=g.offset(),u,a;N.unbind("resize."+s),g.css({top:-9e4,left:-9e4}),u=N.scrollTop(),a=N.scrollLeft(),B.fixed&&!d?(o.top-=u,o.left-=a,g.css({position:"fixed"})):(r=u,i=a,g.css({position:"absolute"})),B.right!==!1?i+=Math.max(N.width()-B.w-q-F-et(B.right,"x"),0):B.left!==!1?i+=et(B.left,"x"):i+=Math.round(Math.max(N.width()-B.w-q-F,0)/2),B.bottom!==!1?r+=Math.max(N.height()-B.h-I-j-et(B.bottom,"y"),0):B.top!==!1?r+=et(B.top,"y"):r+=Math.round(Math.max(N.height()-B.h-I-j,0)/2),g.css({top:o.top,left:o.left,visibility:"visible"}),e=g.width()===B.w+q&&g.height()===B.h+I?0:e||0,y[0].style.width=y[0].style.height="9999px",n={width:B.w+q+F,height:B.h+I+j,top:r,left:i},e===0&&g.css(n),g.dequeue().animate(n,{duration:e,complete:function(){f(this),X=!1,y[0].style.width=B.w+q+F+"px",y[0].style.height=B.h+I+j+"px",B.reposition&&setTimeout(function(){N.bind("resize."+s,J.position)},1),t&&t()},step:function(){f(this)}})},J.resize=function(e){W&&(e=e||{},e.width&&(B.w=et(e.width,"x")-q-F),e.innerWidth&&(B.w=et(e.innerWidth,"x")),C.css({width:B.w}),e.height&&(B.h=et(e.height,"y")-I-j),e.innerHeight&&(B.h=et(e.innerHeight,"y")),!e.innerHeight&&!e.height&&(C.css({height:"auto"}),B.h=C.height()),C.css({height:B.h}),J.position(B.transition==="none"?0:B.speed))},J.prep=function(n){function u(){return B.w=B.w||C.width(),B.w=B.mw&&B.mw<B.w?B.mw:B.w,B.w}function a(){return B.h=B.h||C.height(),B.h=B.mh&&B.mh<B.h?B.mh:B.h,B.h}if(!W)return;var r,o=B.transition==="none"?0:B.speed;C.empty().remove(),C=Y(K,"LoadedContent").append(n),C.hide().appendTo(k.show()).css({width:u(),overflow:B.scrolling?"auto":"hidden"}).css({height:a()}).prependTo(b),k.hide(),e(z).css({"float":"none"}),r=function(){function c(){p&&g[0].style.removeAttribute("filter")}var n=T.length,r,u="frameBorder",a="allowTransparency",l;if(!W)return;l=function(){clearTimeout($),L.remove(),rt(f,B.onComplete)},p&&z&&C.fadeIn(100),A.html(B.title).add(C).show(),n>1?(typeof B.current=="string"&&O.html(B.current.replace("{current}",U+1).replace("{total}",n)).show(),_[B.loop||U<n-1?"show":"hide"]().html(B.next),D[B.loop||U?"show":"hide"]().html(B.previous),B.slideshow&&M.show(),B.preloading&&e.each([Z(-1),Z(1)],function(){var t,n,r=T[this],s=e.data(r,i);s&&s.href?(t=s.href,e.isFunction(t)&&(t=t.call(r))):t=r.href,tt(t)&&(n=new Image,n.src=t)})):H.hide(),B.iframe?(r=Y("iframe")[0],u in r&&(r[u]=0),a in r&&(r[a]="true"),B.scrolling||(r.scrolling="no"),e(r).attr({src:B.href,name:(new Date).getTime(),"class":s+"Iframe",allowFullScreen:!0,webkitAllowFullScreen:!0,mozallowfullscreen:!0}).one("load",l).appendTo(C),e(t).one(h,function(){r.src="//about:blank"}),B.fastIframe&&e(r).trigger("load")):l(),B.transition==="fade"?g.fadeTo(o,1,c):c()},B.transition==="fade"?g.fadeTo(o,0,function(){J.position(0,r)}):J.position(o,r)},J.load=function(n){var r,i,o=J.prep,u;X=!0,z=!1,R=T[U],n||nt(),Q&&g.add(m).removeClass(Q),B.className&&g.add(m).addClass(B.className),Q=B.className,rt(h),rt(a,B.onLoad),B.h=B.height?et(B.height,"y")-I-j:B.innerHeight&&et(B.innerHeight,"y"),B.w=B.width?et(B.width,"x")-q-F:B.innerWidth&&et(B.innerWidth,"x"),B.mw=B.w,B.mh=B.h,B.maxWidth&&(B.mw=et(B.maxWidth,"x")-q-F,B.mw=B.w&&B.w<B.mw?B.w:B.mw),B.maxHeight&&(B.mh=et(B.maxHeight,"y")-I-j,B.mh=B.h&&B.h<B.mh?B.h:B.mh),r=B.href,$=setTimeout(function(){L.appendTo(b)},100),B.inline?(u=Y(K).hide().insertBefore(e(r)[0]),e(t).one(h,function(){u.replaceWith(C.children())}),o(e(r))):B.iframe?o(" "):B.html?o(B.html):tt(r)?(e(z=new Image).addClass(s+"Photo").bind("error",function(){B.title=!1,o(Y(K,"Error").html(B.imgError))}).one("load",function(){var e;B.scalePhotos&&(i=function(){z.height-=z.height*e,z.width-=z.width*e},B.mw&&z.width>B.mw&&(e=(z.width-B.mw)/z.width,i()),B.mh&&z.height>B.mh&&(e=(z.height-B.mh)/z.height,i())),B.h&&(z.style.marginTop=Math.max(B.h-z.height,0)/2+"px"),T[1]&&(B.loop||T[U+1])&&(z.style.cursor="pointer",z.onclick=function(){J.next()}),p&&(z.style.msInterpolationMode="bicubic"),setTimeout(function(){o(z)},1)}),setTimeout(function(){z.src=r},1)):r&&k.load(r,B.data,function(t,n){o(n==="error"?Y(K,"Error").html(B.xhrError):e(this).contents())})},J.next=function(){!X&&T[1]&&(B.loop||T[U+1])&&(U=Z(1),J.load())},J.prev=function(){!X&&T[1]&&(B.loop||U)&&(U=Z(-1),J.load())},J.close=function(){W&&!V&&(V=!0,W=!1,rt(l,B.onCleanup),N.unbind("."+s+" ."+v),m.fadeTo(200,0),g.stop().fadeTo(300,0,function(){g.add(m).css({opacity:1,cursor:"auto"}).hide(),rt(h),C.empty().remove(),setTimeout(function(){V=!1,rt(c,B.onClosed)},1)}))},J.remove=function(){e([]).add(g).add(m).remove(),g=null,e("."+o).removeData(i).removeClass(o),e(t).unbind("click."+s)},J.element=function(){return e(R)},J.settings=r})(jQuery,document,window);