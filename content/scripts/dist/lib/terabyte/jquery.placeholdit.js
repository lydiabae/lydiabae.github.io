(function(e,t,n){function a(e,t){return e in document.createElement(t)}function f(t,n){this.options=e.extend({},o,n),this.element=t,this.$element=e(t),this.$submit=e(this.options.submitButton),this.object=this,this._init()}var r,i,s="placeholdIt",o={submitButton:".js-submit",className:"placeholdit"},u="input[type=text][placeholder], input[type=email][placeholder], input[type=number][placeholder], input[type=tel][placeholder], input[type=url][placeholder], input[type=search][placeholder], input[type=phone][placeholder]";r=a("placeholder","input"),i=a("placeholder","textarea"),f.prototype.isInputSupported=r,f.prototype.isTextareaSupported=i,f.prototype._init=function(){if(!r||!i)this._initEvents(),this._initPlaceholders()},f.prototype._initEvents=function(){this.$element.on("focus",u+", textarea",{$plugin:this},this._processFocus),this.$element.on("blur",u+", textarea",{$plugin:this},this._processBlur),this.$submit.on("click",{$plugin:this},this._processSubmit)},f.prototype._initPlaceholders=function(){if(!r){var e=this.$element.find(u);this._setPlaceholders(e)}if(!i){var t=this.$element.find("textarea");this._setPlaceholders(t)}},f.prototype._setPlaceholders=function(t){for(var n=0,r=t.length;n<r;n++){var i=e(t[n]);i.addClass(this.options.className),this._restoreText(i[0],i.attr("placeholder"))}},f.prototype._processFocus=function(e){e.preventDefault(),e.data.$plugin._removeText(this)},f.prototype._processBlur=function(e){e.preventDefault(),e.data.$plugin._restoreText(this),e.data.$plugin._validateInput(this)},f.prototype._processSubmit=function(e){e.preventDefault();var t=e.data.$plugin.$element.find(u+", textarea"),n=e.data.$plugin._validateForm(t);n&&(e.data.$plugin._clearPlaceholders(t),e.data.$plugin.$submit.closest("form").submit())},f.prototype._clearPlaceholders=function(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];e(i).attr("required")||this._removeText(t[n])}},f.prototype._removeText=function(t){var n=e(t),r=n.attr("placeholder");if(t.value===r){t.value="";return}},f.prototype._restoreText=function(t){var n;t.value||(n=e(t).attr("placeholder"),t.value=n)},f.prototype._validateForm=function(e){var t=!0;for(var n=0,r=e.length;n<r;n++){var i=e[n],s=this._validateInput(i);s||(t=!1)}return t?this.$element.trigger("placeholdit.form.valid"):this.$element.trigger("placeholdit.form.invalid"),t},f.prototype._validateInput=function(t){var n=e(t),r=n.attr("required"),i=n.attr("placeholder"),s=new RegExp(n.attr("pattern")),o=n.attr("type"),u=t.value;return r&&(i===u||!t.value)?(n.trigger("placeholdit.invalid"),!1):s&&!s.exec(u)?(n.trigger("placeholdit.invalid"),!1):(n.trigger("placeholdit.valid"),!0)},e.fn[s]=function(e){var t;return jQuery.data(this[0],s)||(t=new f(this,e),jQuery.data(this[0],s,t)),t}})(jQuery,window);